function getUrl(url){try{const xmlHttp=new XMLHttpRequest();xmlHttp.open('GET',url,false);xmlHttp.send(null);return xmlHttp;}catch(e){return null;}}
function constructUrlWithPrefix(path){return location.protocol+'//'+location.host+path;}
function constructUrlWithoutPrefix(path){return location.protocol+'//'+location.host+'/nft'+path;}
function newRow(table,rowIndex,contentArray){const row=table.insertRow(rowIndex);contentArray.forEach((content,i)=>{const col=row.insertCell(i);col.innerHTML=content;})}
function init(){const table=document.createElement('table');let count=0;let scripts=document.getElementsByTagName('script');for(let i=0;i<scripts.length;i++){if(scripts[i].src&&(scripts[i].src.startsWith(constructUrlWithPrefix('/static/'))||scripts[i].src.startsWith(constructUrlWithoutPrefix('/static/')))){const url=scripts[i].src;const response=getUrl(url);if(response){newRow(table,count++,[url,response.getResponseHeader('content-type'),response.statusText]);}else{newRow(table,count++,[url,'Failed to load']);}}}
let styles=document.getElementsByTagName('link');for(let i=0;i<styles.length;i++){if(styles[i].href&&(styles[i].href.startsWith(constructUrlWithPrefix('/static/'))||styles[i].href.startsWith(constructUrlWithoutPrefix('/static/')))){const url=styles[i].href;const response=getUrl(url);if(response){newRow(table,count++,[url,response.getResponseHeader('content-type'),response.statusText]);}else{newRow(table,count++,[url,'Failed to load']);}}}
document.getElementsByTagName('body')[0].innerHTML=table.outerHTML+document.getElementsByTagName('body')[0].innerHTML;if(document.getElementById('root'))document.getElementById('root').style.display='none';if(document.getElementById('Loading'))document.getElementById('Loading').style.display='none';if(document.getElementById('modal-root'))document.getElementById('modal-root').style.display='none';}
(function(){if(window.location.pathname==='/nft/troubleshoot'||window.location.pathname==='/troubleshoot'){init();}})();